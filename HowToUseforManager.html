<html>
<head>
  <title>Evernote Export</title>
  <basefont face="MS Mincho" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/274507; Windows/6.3.9600;"/>
  <style>
    body, td {
      font-family: MS Mincho;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1186"/>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;">
(2015年2月5日バージョン)
<div><br/></div><div><ul><li>ツールのダウンロード</li></ul><div><br/></div><div><a href="https://github.com/bee7813993/KaraokeRequestorWeb">https://github.com/bee7813993/KaraokeRequestorWeb</a></div><div>にアクセスして</div><div><br/><div><img src="files/bee7813993-KaraokeRequestorWeb_TOP.png" type="image/png" height="495" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="816"/><br/></div><div><br/></div></div><div>releaseのところをクリック。</div><div><br/></div><div>release画面から最新版のバイナリ(sourceじゃない.zipファイル)をダウンロード。</div><div><img src="files/Image.png" type="image/png" height="792" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="1025"/></div><div><br/></div><div><ul><li>ツールの展開</li></ul></div><div>zipファイルを読み書き可能なところに展開する。(作者はc:\prognsというフォルダを作ってそこに展開してます)</div><div><img src="files/Image [1].png" type="image/png" height="508" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="916"/></div><div><br/></div><div><br/></div><div><ul><li>ファイル検索ソフトのインストールと設定</li></ul><div>everything file searchをがインストールされていなければダウンロードしてきてインストール。</div><div>ダウンロード先<br/><a href="http://www.voidtools.com/">http://www.voidtools.com/</a></div><div><br/></div><div>対象の動画ファイルだけが検索できるように設定する。</div><div>「検索データ」→「NTFS」の設定ですべてのドライブで「データベースに含める」のチェックを外す。(意図しない場所にあるファイルが検索されないようにするため)</div><div><img src="files/Image [2].png" type="image/png" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br/></div><div>「検索データ」→「フォルダ」の設定に、動画が入っているディスク＆フォルダを追加する。<br/></div><div>後でディスクを追加したときは、ここに追加設定をする。</div><div><img src="files/everythingpath.jpg" type="image/jpeg" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/><br/></div><div><br/></div><div>「検索データ」→「除外」設定の中の「検索対象を以下のファイルのみに制限する」の欄に、<br/>
動画の拡張子を設定する。<br/>
例）</div><div>*.mp4;*.ave;*.mkv;*.flv;*.mpg;*.mov</div><div>ほかのファイル形式とかあるならそれも追記する。</div><div><img src="files/everythingexclude.jpg" type="image/jpeg" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;"/></div><div><br/><div>「OK」もしくは「適用」で設定を反映させると、<br/>
Windows ファイアウォールの設定画面が出るので、両方のネットワークを通信許可するようにチェックを入れて「アクセスを許可する」ボタンを押す。</div></div><div><img src="files/everythingFW.jpg" type="image/jpeg" height="443" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="627"/><br/></div><div><br/></div><ul><li>ネットワークの設定</li></ul><div>ポータブルWiFiなどでネットワークに接続する。<br/>
WiFiアクセスポイントでは「プライバシーセパレータ」などの機能はOFFにしておく。</div><div>コマンドプロンプトを開き</div><div>ipconfigコマンドを実行する</div><div><br/></div><div>「IPv4 アドレス」で表示されたIPアドレスが機材PCのIPアドレスになる。</div><div><br/></div><div>機材PCのIPアドレスと、WiFiアクセスポイントへの接続情報(SSIDとパスワード等)を参加者に伝えてアクセスできるようにする。</div><div><br/></div><div>【自動再生機能を使う場合の設定】</div><ul><li>動画再生ソフトのインストールとパス指定</li></ul><div>MediaPlayerClassic -BEもしくは-HCがインストールされていなかったらダウンロードしてきてインストール。<br/>
MPC-BEのダウンロード先</div></div><div><a href="http://sourceforge.net/projects/mpcbe/">http://sourceforge.net/projects/mpcbe/</a></div><div>64bitPCでも、x64版じゃなくてx86版の方がおすすめ</div><div><br/></div><div>MPC-BE(-HC)を起動して各種設定。</div><div>「再生」設定で、再生を1回に設定</div><div><img src="files/MPCplay.jpg" type="image/jpeg" height="568" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="766"/><br/></div><div><br/></div><div>「フルスクリーン」設定で</div></div><div>「フルスクリーンでファイルを開く」にチェックを入れ、<br/>
動画を表示したいモニターの種類を選ぶ。(デュアルディスプレイ環境で使うときに表示したいモニターを選択する)</div><div><img src="files/MPC-fullscreen.jpg" type="image/jpeg" height="568" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="766"/><br/></div><div><br/></div><div>「ウェブ インタフェース」設定で「このポートで待機：」にチェックを入れ、右の番号を「13579」とする。</div><div><img src="files/MPC-web.jpg" type="image/jpeg" height="568" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="766"/><br/></div><div><br/></div><div>「OK」もしくは「適用」で設定を反映させると、<br/>
Windows ファイアウォールの設定画面が出るので、両方のネットワークを通信許可するようにチェックを入れて「アクセスを許可する」ボタンを押す。</div><div><img src="files/MPCFW.jpg" type="image/jpeg" height="442" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="629"/></div><div><br/></div><div><br/></div><div>以上でMediaPlayerClassicの完了。</div><div><br/></div><div><ul><li>ツールの起動</li></ul></div><div>ツールを展開したフォルダの、karaokeyoyaku直下にある。<br/>
start.bat</div><div>をダブルクリック等で起動する。</div><div><br/></div><div>これで、ブラウザから</div><div>http://[機材PCのIPアドレス]/</div><div>にアクセスするとツールのトップページになるはず</div><div><br/></div><div>・ツールの初期設定</div><div><img src="files/Image [3].png" type="image/png" height="680" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="789"/></div><div><br/></div><div>一番下の「設定」ボタンを押す。</div><div><img src="files/Image [4].png" type="image/png" height="290" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="789"/></div><div><br/></div><div>「新しいファイル名」の設定項目にオフ会開始時に新しいデータベースファイル名指定</div><div>→するとリクエストに何も登録されていない状態になる。</div><div><br/></div><div>「動作モードの選択」の設定項目に</div><div>自動再生開始モード　： リクエストのされている動画を順番に再生。次の曲の開始で一時停止しない。</div><div><div>手動再生開始モード　： リクエストのされている動画を順番に再生。次の曲の開始で一時停止するので参加者が再生開始ボタンを押して曲スタート。</div><div>手動プレイリスト登録モード　： 自動再生機能は使わない。機材係がリクエストを見て動画再生ソフトのプレイリストに登録していく。(未対応の再生ソフトを使いたい場合に設定)</div><br/></div><div>「MediaPlayerClassic PATH設定」</div><div>MediaPlayerClassicがインストールされている場所を指定。</div><div>・32bitWindowsの場合</div><div>&quot;C:\Program Files\MPC-BE\mpc-be.exe&quot; (リストから選択可)<br/><div>・64bitWindowsに32bit版Playerをインストールした場合</div><div>&quot;C:\Program Files (x86)\MPC-BE\mpc-be.exe&quot; (リストから選択可)
<div>・64bitWindowsに64bit版Playerをインストールした場合</div></div></div><div>&quot;C:\Program Files\MPC-BE\mpc-be.exe&quot;　(リストから選択可)</div><div>・その他のPATHにインストールされている場合</div><div>テキストボックスに入力</div><div><br/></div><div>以上で、カラオケオフを開始するための準備が完了。</div><div><br/></div><div><br/></div><div>・参加者向けに接続情報を表示</div><div>TOP画面の「接続情報表示」リンクをクリックすると</div><div>参加者に向けて接続情報を案内するための画面を表示できます。</div><div><img src="files/Image [5].png" type="image/png" height="273" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="825"/></div><div><br/></div><div>・「接続用Wifi SSID」「接続用Wifi パスワード」</div><div>使用しているWifiのSSID。テキストボックスになっているので手動で入力</div><div>・接続先URL</div><div>検索＆予約ツールにアクセスするためのURL。自動で表示</div><div>(機材係のブラウザでhttp://localhost/とかでアクセスしているとlocalhostになって参加者がアクセスできないので手動で書き換える)</div><div><br/></div><div><ul><li>自動再生Playerの起動</li></ul></div><div>ツールを展開したフォルダ内</div><div><img src="files/Image [6].png" type="image/png" height="508" style="cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;cursor: default;" width="916"/></div><div>karaokeyoyaku\nginx\html 内にある</div><div>autoplaystart_mpc_root.bat<br/>
をダブルクリックなどで起動。</div><div><br/></div><div>リクエストされた動画の中の一番下の「未再生」となっているものから再生され続けます。</div><div><br/></div><div>何かの拍子で自動再生が止まってしまった場合、</div><div>今流れている動画の再生が終わったところで</div><div>もう一度、</div><div>autoplaystart_mpc_root.bat</div><div>を起動する。</div><div><br/></div><div>最後終了するときは、</div><div>autoplaystart_mpc.batを起動したときに開いたコマンドプロンプトを右上の×ボタンを押して終了させる。</div><div><br/></div><div><br/></div><div>・トラブルシューティング</div><div><ol><li>最初からブラウザでツールにアクセスできない。<br/>
ほかのソフトがwebサーバが使うTCP80番ポートを握っているかも。<br/>
Skypeが握っていることがよくあるので、設定で80番を使う設定を外して<br/><img src="files/skype_web設定.jpg" type="image/jpeg" height="612" style="cursor: default;cursor: default;cursor: default;" width="796"/><br/><div>skypeを一度停止して起動。<br/><br/>
何が80番ポートをつかんでいるかわからないときは、「管理者として実行」したコマンドプロンプトで<br/>
netstat -b -n -a -p TCP<br/>
コマンドを実行して、<br/>
TCP         0.0.0.0:80<br/>
のある行の次の行に書いているのが掴んでいるので、何らかの方法で止めといてね。<br/><br/>
掴んでいるプログラムを止めたり変更したりした後は、一度このツールを止めてから起動します。<br/>
止めてから起動の方法(面倒ならPCを再起動したほうが手っ取り早い)<br/>
止める → start.batを起動したときに現れたコマンドプロンプトを×ボタンで終わらせる。 → タスクマネージャーでnginx.exeを全部終了させる。<br/>
起動 → start.batをダブルクリック。<br/><br/></div></li><li>検索＆予約ツールに参加者のブラウザでアクセスできなくなってしまった。<br/>
・Wifiアクセスポイントが切り替わってしまっていないか確認 (機材PCor参加者の端末)<br/>
・機材PCからのアクセスもできない場合、webサーバ(nginx)が止まってしまったかもしれないので、start.bat起動時のコマンドプロンプトを×ボタンで終了させて、start.batをもう一度起動する(機材PC)<br/>
・Wifiアクセスポイントに動作がおかしくなっているかもなのでWifiアクセスポイントを再起動する。</li></ol></div><div><br/></div></div>
</div></body></html> 